import{R as S,r as f,j as e,P as j,D as W,G as Ke,x as Qe}from"./index-UGP3FMHZ.js";import{a as Ze,c as en}from"./index.esm-CqZRp1Y0.js";import{d as G,E as oe}from"./jspdf.plugin.autotable-B3lPYY0e.js";import{B as T}from"./Box-CbM13dhw.js";import{P as z,T as J,I as X}from"./IconButton-Dte1ZgIo.js";import{T as V,a as Y,e as K,c as D,d as h,b as Q}from"./TableRow-DQtWHTn5.js";import{T as Z,a as ee,v as ne,b as ce,c as te}from"./TableSortLabel-byI6uh9Z.js";import{D as se,a as ie,b as ae,c as re}from"./DialogTitle-mCnyWeuu.js";import{f as B}from"./format-cwXK75ha.js";import"./Accidentreport-DAvY479I.js";import{E as nn}from"./exceljs.min-BVCcFg2V.js";import{C as le,a as de}from"./CRow-DmDvTdaf.js";import"./createSvgIcon-CSQ9e_07.js";import"./DefaultLayout-BWJbGzKZ.js";import"./cil-user-Ddrdy7PS.js";import"./dividerClasses-M2P_bjZl.js";import"./TextField-DrQtiYXb.js";var tn=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='497.333 239.999 80.092 239.999 176.087 144.004 153.46 121.377 18.837 256 153.46 390.623 176.087 367.996 80.09 271.999 497.333 271.999 497.333 239.999' class='ci-primary'/>"];function ue(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function sn(c,a){return c==="desc"?(n,r)=>ue(n,r,a):(n,r)=>-ue(n,r,a)}function an(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const ye=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"issuance_id",numeric:!1,disablePadding:!0,label:"REF NO."},{id:"dresslist",numeric:!0,disablePadding:!1,label:"DRESS LIST"},{id:"issuedate",numeric:!0,disablePadding:!1,label:"ISSUED DATE"},{id:"nextissue",numeric:!0,disablePadding:!1,label:"NEXT ISSUANCE"},{id:"newIssuance_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function Re(c){const{onSelectAllClick:a,order:n,orderBy:r,numSelected:u,rowCount:i,onRequestSort:l}=c,E=x=>_=>{l(_,x)};return e.jsx(Q,{children:e.jsx(D,{children:ye.map(x=>e.jsx(h,{align:x.numeric?"right":"left",padding:x.disablePadding?"none":"normal",sortDirection:r===x.id?n:!1,children:e.jsxs(ee,{active:r===x.id,direction:r===x.id?n:"asc",onClick:E(x.id),children:[x.label,r===x.id?e.jsx(T,{component:"span",sx:ne,children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},x.id))})})}Re.propTypes={numSelected:j.number.isRequired,onRequestSort:j.func.isRequired,onSelectAllClick:j.func.isRequired,order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,rowCount:j.number.isRequired};function Ee(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"DRESS"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Ee.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function rn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const s=await W.get(`/item/issued/?filter=Dress&employeeId=${a}`);console.log(s.data);const o=s.data.data.flatMap((g,b)=>g.items.map((P,U)=>({id:`${b}-${U}`,slno:U+1,issuance_id:P.issuance_id,dresslist:P.item_name,issuedate:B(new Date(P.issue_date),"dd/MM/yyyy"),nextissue:B(new Date(P.expiry_date),"dd/MM/yyyy"),newIssuance_image:P.newIssuance_image,about_the_newissuance:P.about_the_newissuance})));O(o)}catch(s){if(s.isAxiosError&&s.response){console.error(`HTTP error! status: ${s}`);const o=JSON.stringify(s.response.data);console.error("Response body:",o),alert(`Error: ${o}`)}console.error("Error fetching data:",s)}})()},[]);const L=(t,s)=>{r(u===s&&n==="asc"?"desc":"asc"),i(s)},A=t=>{if(t.target.checked){const s=m.map(o=>o.id);E(s);return}E([])},N=(t,s)=>{const o=l.indexOf(s);let g=[];o===-1?g=g.concat(l,s):o===0?g=g.concat(l.slice(1)):o===l.length-1?g=g.concat(l.slice(0,-1)):o>0&&(g=g.concat(l.slice(0,o),l.slice(o+1))),E(g)},w=(t,s)=>{_(s)},$=t=>{v(t),I(!0)},q=()=>{I(!1),v("")},R=t=>{M(parseInt(t.target.value,10)),_(0)},y=t=>l.indexOf(t)!==-1,k=x>0?Math.max(0,(1+x)*p-m.length):0,H=S.useMemo(()=>an(m,sn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),d=()=>{const t=new oe;t.autoTable({head:[["SL NO.","REFNO.","DRESS LIST","ISSUED DATE","NEXT ISSUANCE","IMAGE","DESCRIPTION"]],body:m.map(s=>[s.slno,s.issuance_id,s.dresslist,s.issuedate,s.nextissue,s.image,s.about_the_newissuance])}),t.save("Dress_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(Ee,{numSelected:l.length,onPdfDownload:d}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Re,{numSelected:l.length,order:n,orderBy:u,onSelectAllClick:A,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[H.map((t,s)=>{const o=y(t.id),g=`enhanced-table-checkbox-${s}`;return e.jsxs(D,{hover:!0,onClick:b=>N(b,t.id),role:"checkbox","aria-checked":o,tabIndex:-1,selected:o,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:g,scope:"row",padding:"none",children:t.slno}),e.jsx(h,{align:"left",children:t.issuance_id}),e.jsx(h,{align:"right",children:t.dresslist}),e.jsx(h,{align:"right",children:t.issuedate}),e.jsx(h,{align:"right",children:t.nextissue}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${t.newIssuance_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>$(`data:image/png;base64,${t.newIssuance_image}`),onError:b=>{b.target.onerror=null}})}),e.jsx(h,{align:"right",children:t.about_the_newissuance})]},t.id)}),k>0&&e.jsx(D,{style:{height:53*k},children:e.jsx(h,{colSpan:ye.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:w,onRowsPerPageChange:R})]}),e.jsxs(se,{open:F,onClose:q,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:q,style:{padding:"10px"},children:"Close"})})]})]})}function ge(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function on(c,a){return c==="desc"?(n,r)=>ge(n,r,a):(n,r)=>-ge(n,r,a)}function cn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const dn=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"issuance_id",numeric:!1,disablePadding:!0,label:"REF NO."},{id:"ppelist",numeric:!0,disablePadding:!1,label:"PPE LIST"},{id:"issuedate",numeric:!0,disablePadding:!1,label:"ISSUED DATE"},{id:"nextissue",numeric:!0,disablePadding:!1,label:"NEXT ISSUANCE"},{id:"newIssuance_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function _e(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:dn.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"7":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}_e.propTypes={onRequestSort:j.func.isRequired,order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired};function Te(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"PPE"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Te.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function ln(c){const a=c.employee_id,[n,r]=f.useState("asc"),[u,i]=f.useState("slno"),[l,E]=f.useState([]),[x,_]=f.useState(0),[p,M]=f.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const s=await W.get(`/item/issued/?filter=PPE&employeeId=${a}`);console.log(s.data);const o=s.data.data.flatMap((g,b)=>g.items.map((P,U)=>({id:`${b}-${U}`,slno:U+1,issuance_id:P.issuance_id,ppelist:P.item_name,issuedate:B(new Date(P.issue_date),"dd/MM/yyyy"),nextissue:B(new Date(P.expiry_date),"dd/MM/yyyy"),newIssuance_image:P.newIssuance_image,about_the_newissuance:P.about_the_newissuance})));O(o)}catch(s){console.error("Error fetching data:",s)}})()},[]);const L=(t,s)=>{r(u===s&&n==="asc"?"desc":"asc"),i(s)},A=t=>{if(t.target.checked){const s=m.map(o=>o.id);E(s);return}E([])},N=t=>{v(t),I(!0)},w=()=>{I(!1),v("")},$=(t,s)=>{const o=l.indexOf(s);let g=[];o===-1?g=g.concat(l,s):o===0?g=g.concat(l.slice(1)):o===l.length-1?g=g.concat(l.slice(0,-1)):o>0&&(g=g.concat(l.slice(0,o),l.slice(o+1))),E(g)},q=(t,s)=>{_(s)},R=t=>{M(parseInt(t.target.value,10)),_(0)},y=t=>l.indexOf(t)!==-1,k=x>0?Math.max(0,(1+x)*p-m.length):0,H=S.useMemo(()=>cn(m,on(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),d=()=>{const t=new oe;t.autoTable({head:[["SL NO.","REFNO.","PPE LIST","ISSUED DATE","NEXT ISSUANCE","DESCRIPTION"]],body:m.map(s=>[s.slno,s.issuance_id,s.ppelist,s.issuedate,s.nextissue,s.about_the_newissuance])}),t.save("PPE-report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2},children:[e.jsx(Te,{numSelected:l.length,onPdfDownload:d}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[e.jsx(_e,{numSelected:l.length,order:n,orderBy:u,onSelectAllClick:A,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[H.map((t,s)=>{const o=y(t.id),g=`enhanced-table-checkbox-${s}`;return e.jsxs(D,{hover:!0,onClick:b=>$(b,t.id),role:"checkbox","aria-checked":o,tabIndex:-1,selected:o,children:[e.jsx(h,{component:"th",id:g,scope:"row",padding:"7",children:t.slno}),e.jsx(h,{align:"left",children:t.issuance_id}),e.jsx(h,{align:"right",children:t.ppelist}),e.jsx(h,{align:"right",children:t.issuedate}),e.jsx(h,{align:"right",children:t.nextissue}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${t.newIssuance_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>N(`data:image/png;base64,${t.newIssuance_image}`),onError:b=>{b.target.onerror=null}})}),e.jsx(h,{align:"right",children:t.about_the_newissuance})]},t.id)}),k>0&&e.jsx(D,{style:{height:53*k},children:e.jsx(h,{colSpan:6})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:q,onRowsPerPageChange:R})]}),e.jsxs(se,{open:F,onClose:w,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:w,style:{padding:"10px"},children:"Close"})})]})]})}function he(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function un(c,a){return c==="desc"?(n,r)=>he(n,r,a):(n,r)=>-he(n,r,a)}function gn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const hn=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"issuance_id",numeric:!1,disablePadding:!0,label:"Ref NO."},{id:"toollist",numeric:!0,disablePadding:!1,label:"TOOL LIST"},{id:"issuedate",numeric:!0,disablePadding:!1,label:"ISSUED DATE"},{id:"nextissue",numeric:!0,disablePadding:!1,label:"NEXT ISSUANCE"},{id:"newIssuance_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function De(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:hn.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"7":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}De.propTypes={onRequestSort:j.func.isRequired,order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired};function Ie(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"TOOL"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Ie.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function xn(c){const a=c.employee_id,[n,r]=f.useState("asc"),[u,i]=f.useState("slno"),[l,E]=f.useState([]),[x,_]=f.useState(0),[p,M]=f.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const s=await W.get(`/item/issued/?filter=Tool&employeeId=${a}`);console.log(s.data);const o=s.data.data.flatMap((g,b)=>g.items.map((P,U)=>({id:`${b}-${U}`,slno:U+1,issuance_id:P.issuance_id,toollist:P.item_name,issuedate:P.issue_date?B(new Date(P.issue_date),"dd/MM/yyyy"):"N/A",nextissue:P.expiry_date?B(new Date(P.expiry_date),"dd/MM/yyyy"):"N/A",newIssuance_image:P.newIssuance_image,about_the_newissuance:P.about_the_newissuance})));O(o)}catch(s){console.error("Error fetching data:",s)}})()},[]);const L=(t,s)=>{r(u===s&&n==="asc"?"desc":"asc"),i(s)},A=t=>{if(t.target.checked){const s=m.map(o=>o.id);E(s);return}E([])},N=t=>{v(t),I(!0)},w=()=>{I(!1),v("")},$=(t,s)=>{const o=l.indexOf(s);let g=[];o===-1?g=g.concat(l,s):o===0?g=g.concat(l.slice(1)):o===l.length-1?g=g.concat(l.slice(0,-1)):o>0&&(g=g.concat(l.slice(0,o),l.slice(o+1))),E(g)},q=(t,s)=>{_(s)},R=t=>{M(parseInt(t.target.value,10)),_(0)},y=t=>l.indexOf(t)!==-1,k=x>0?Math.max(0,(1+x)*p-m.length):0,H=S.useMemo(()=>gn(m,un(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),d=()=>{const t=new oe;t.autoTable({head:[["SL NO.","REF NO.","TOOL LIST","ISSUED DATE","NEXT ISSUANCE","DESCRIPTION"]],body:m.map(s=>[s.slno,s.issuance_id,s.toollist,s.issuedate,s.nextissue,s.about_the_newissuance])}),t.save("TOOL-report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2},children:[e.jsx(Ie,{numSelected:l.length,onPdfDownload:d}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[e.jsx(De,{numSelected:l.length,order:n,orderBy:u,onSelectAllClick:A,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[H.map((t,s)=>{const o=y(t.id),g=`enhanced-table-checkbox-${s}`;return e.jsxs(D,{hover:!0,onClick:b=>$(b,t.id),role:"checkbox","aria-checked":o,tabIndex:-1,selected:o,children:[e.jsx(h,{component:"th",id:g,scope:"row",padding:"7",children:t.slno}),e.jsx(h,{align:"left",children:t.issuance_id}),e.jsx(h,{align:"right",children:t.toollist}),e.jsx(h,{align:"right",children:t.issuedate}),e.jsx(h,{align:"right",children:t.nextissue}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${t.newIssuance_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>N(`data:image/png;base64,${t.newIssuance_image}`),onError:b=>{b.target.onerror=null}})}),e.jsx(h,{align:"right",children:t.about_the_newissuance})]},t.id)}),k>0&&e.jsx(D,{style:{height:53*k},children:e.jsx(h,{colSpan:6})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:q,onRowsPerPageChange:R})]}),e.jsxs(se,{open:F,onClose:w,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:w,style:{padding:"10px"},children:"Close"})})]})]})}function xe(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function pn(c,a){return c==="desc"?(n,r)=>xe(n,r,a):(n,r)=>-xe(n,r,a)}function mn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const ve=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"trainername",numeric:!0,disablePadding:!1,label:"TRAINER NAME"},{id:"refrno",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"training_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function Ce(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:ve.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Ce.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function we(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"ToolBox Training"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}we.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function fn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const o=(await W.get(`/reports/employee/training/?filter=tool&employeeId=${a}`)).data.data["TOOL BOX TRAINING"];console.log("result:",o);const g=o.map((b,P)=>({slno:P+1,date:B(new Date(b.training_date),"dd/MM/yyyy"),trainername:b.trainers.map(U=>U.trainer_name).join(", "),refrno:b.training_id,training_image:b.training_image,description:b.about_the_training}));O(g)}catch(s){if(s.isAxiosError&&s.response){console.error(`/HTTP error! status: ${s}`);const o=JSON.stringify(s.response.data);console.error("Response body:",o),alert(`Error: ${o}`)}console.error("Error fetching data:",s)}})()},[]);const L=(t,s)=>{r(u===s&&n==="asc"?"desc":"asc"),i(s)},A=t=>{if(t.target.checked){const s=m.map(o=>o.id);E(s);return}E([])},N=t=>{v(t),I(!0)},w=()=>{I(!1),v("")},$=(t,s)=>{const o=l.indexOf(s);let g=[];o===-1?g=g.concat(l,s):o===0?g=g.concat(l.slice(1)):o===l.length-1?g=g.concat(l.slice(0,-1)):o>0&&(g=g.concat(l.slice(0,o),l.slice(o+1))),E(g)},q=(t,s)=>{_(s)},R=t=>{M(parseInt(t.target.value,10)),_(0)},y=t=>l.indexOf(t)!==-1,k=x>0?Math.max(0,(1+x)*p-m.length):0,H=S.useMemo(()=>mn(m,pn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),d=()=>{const t=new oe;t.autoTable({head:[["SL NO.","DATE","TRAINER NAME","REFERENCE NUMBER","DESCRIPTION"]],body:m.map(s=>[s.slno,s.date,s.trainername,s.refrno,s.description])}),t.save("ToolBox_Training_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(we,{numSelected:l.length,onPdfDownload:d}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Ce,{order:n,orderBy:u,onRequestSort:L,onSelectAllClick:A,rowCount:m.length}),e.jsxs(K,{children:[H.map((t,s)=>{const o=y(t.id),g=`enhanced-table-checkbox-${s}`;return e.jsxs(D,{hover:!0,onClick:b=>$(b,t.id),role:"checkbox","aria-checked":o,tabIndex:-1,selected:o,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:g,scope:"row",padding:"none",children:t.slno}),e.jsx(h,{align:"right",children:t.date}),e.jsx(h,{align:"right",children:t.trainername}),e.jsx(h,{align:"right",children:t.refrno}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${t.training_image}`,alt:"Medical Checkup",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>N(`data:image/png;base64,${t.training_image}`),onError:b=>{b.target.onerror=null,b.target.src="https://via.placeholder.com/80"}})}),e.jsx(h,{align:"right",children:t.description})]},t.id)}),k>0&&e.jsx(D,{style:{height:53*k},children:e.jsx(h,{colSpan:ve.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:q,onRowsPerPageChange:R})]}),e.jsxs(se,{open:F,onClose:w,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:w,style:{padding:"10px"},children:"Close"})})]})]})}function pe(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function bn(c,a){return c==="desc"?(n,r)=>pe(n,r,a):(n,r)=>-pe(n,r,a)}function jn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const ke=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"trainername",numeric:!0,disablePadding:!1,label:"TRAINER NAME"},{id:"refrno",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"training_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function Ne(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:ke.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Ne.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function Oe(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"JobSafety Training"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Oe.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function Sn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const o=(await W.get(`reports/employee/training/?filter=safety&employeeId=${a}`)).data.data["JOB SAFETY TRAINING"];console.log("result:",o);const g=o.map((b,P)=>({slno:P+1,date:B(new Date(b.training_date),"dd/MM/yyyy"),trainername:b.trainers.map(U=>U.trainer_name).join(", "),refrno:b.training_id,training_image:b.training_image,description:b.about_the_training}));O(g)}catch(s){if(s.isAxiosError&&s.response){console.error(`HTTP error! status: ${s}`);const o=JSON.stringify(s.response.data);console.error("Response body:",o),alert(`Error: ${o}`)}console.error("Error fetching data:",s)}})()},[]);const L=(t,s)=>{r(u===s&&n==="asc"?"desc":"asc"),i(s)},A=t=>{if(t.target.checked){const s=m.map(o=>o.id);E(s);return}E([])},N=t=>{v(t),I(!0)},w=()=>{I(!1),v("")},$=(t,s)=>{const o=l.indexOf(s);let g=[];o===-1?g=g.concat(l,s):o===0?g=g.concat(l.slice(1)):o===l.length-1?g=g.concat(l.slice(0,-1)):o>0&&(g=g.concat(l.slice(0,o),l.slice(o+1))),E(g)},q=(t,s)=>{_(s)},R=t=>{M(parseInt(t.target.value,10)),_(0)},y=t=>l.indexOf(t)!==-1,k=x>0?Math.max(0,(1+x)*p-m.length):0,H=S.useMemo(()=>jn(m,bn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),d=()=>{const t=new oe;t.autoTable({head:[["SL NO.","DATE","TRAINER NAME","REFERENCE NUMBER","DESCRIPTION"]],body:m.map(s=>[s.slno,s.date,s.trainername,s.refrno,s.description])}),t.save("JobSafety_Training_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(Oe,{numSelected:l.length,onPdfDownload:d}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Ne,{order:n,orderBy:u,onSelectAllClick:A,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[H.map((t,s)=>{const o=y(t.id),g=`enhanced-table-checkbox-${s}`;return e.jsxs(D,{hover:!0,onClick:b=>$(b,t.id),role:"checkbox","aria-checked":o,tabIndex:-1,selected:o,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:g,scope:"row",padding:"none",children:t.slno}),e.jsx(h,{align:"right",children:t.date}),e.jsx(h,{align:"right",children:t.trainername}),e.jsx(h,{align:"right",children:t.refrno}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${t.training_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>N(`data:image/png;base64,${t.training_image}`),onError:b=>{b.target.onerror=null}})}),e.jsx(h,{align:"right",children:t.description})]},t.id)}),k>0&&e.jsx(D,{style:{height:53*k},children:e.jsx(h,{colSpan:ke.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:q,onRowsPerPageChange:R})]}),e.jsxs(se,{open:F,onClose:w,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:w,style:{padding:"10px"},children:"Close"})})]})]})}function me(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function Pn(c,a){return c==="desc"?(n,r)=>me(n,r,a):(n,r)=>-me(n,r,a)}function yn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const Ae=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"trainername",numeric:!0,disablePadding:!1,label:"TRAINER NAME"},{id:"refrno",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"training_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function $e(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:Ae.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}$e.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function qe(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"Behavioral Training"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}qe.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function Rn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const s=(await W.get(`/reports/employee/training/?filter=behavioral&employeeId=${a}`)).data.data["BEHAVIORAL TRAINING"];console.log("result:",s);const o=s.map((g,b)=>({slno:b+1,date:B(new Date(g.training_date),"dd/MM/yyyy"),trainername:g.trainers.map(P=>P.trainer_name).join(", "),refrno:g.training_id,training_image:g.training_image,description:g.about_the_training}));O(o)}catch(t){if(t.isAxiosError&&t.response){console.error(`HTTP error! status: ${t}`);const s=JSON.stringify(t.response.data);console.error("Response body:",s),alert(`Error: ${s}`)}console.error("Error fetching data:",t)}})()},[]);const L=(d,t)=>{r(u===t&&n==="asc"?"desc":"asc"),i(t)},A=d=>{v(d),I(!0)},N=()=>{I(!1),v("")},w=(d,t)=>{const s=l.indexOf(t);let o=[];s===-1?o=o.concat(l,t):s===0?o=o.concat(l.slice(1)):s===l.length-1?o=o.concat(l.slice(0,-1)):s>0&&(o=o.concat(l.slice(0,s),l.slice(s+1))),E(o)},$=(d,t)=>{_(t)},q=d=>{M(parseInt(d.target.value,10)),_(0)},R=d=>l.indexOf(d)!==-1,y=x>0?Math.max(0,(1+x)*p-m.length):0,k=S.useMemo(()=>yn(m,Pn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),H=()=>{const d=new oe;d.autoTable({head:[["SL NO.","DATE","TRAINER NAME","REFERENCE NUMBER","DESCRIPTION"]],body:m.map(t=>[t.slno,t.date,t.trainername,t.refrno,t.description])}),d.save("Behavioral_Training_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(qe,{numSelected:l.length,onPdfDownload:H}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx($e,{order:n,orderBy:u,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[k.map((d,t)=>{const s=R(d.id),o=`enhanced-table-checkbox-${t}`;return e.jsxs(D,{hover:!0,onClick:g=>w(g,d.id),role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:o,scope:"row",padding:"none",children:d.slno}),e.jsx(h,{align:"right",children:d.date}),e.jsx(h,{align:"right",children:d.trainername}),e.jsx(h,{align:"right",children:d.refrno}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${d.training_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>A(`data:image/png;base64,${d.training_image}`),onError:g=>{g.target.onerror=null}})}),e.jsx(h,{align:"right",children:d.description})]},d.id)}),y>0&&e.jsx(D,{style:{height:53*y},children:e.jsx(h,{colSpan:Ae.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:$,onRowsPerPageChange:q})]}),e.jsxs(se,{open:F,onClose:N,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:N,style:{padding:"10px"},children:"Close"})})]})]})}function fe(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function En(c,a){return c==="desc"?(n,r)=>fe(n,r,a):(n,r)=>-fe(n,r,a)}function _n(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const Me=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"othertraining",numeric:!0,disablePadding:!1,label:"OTHER TRAINING"},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"trainername",numeric:!0,disablePadding:!1,label:"TRAINER NAME"},{id:"refrno",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"training_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"description",numeric:!0,disablePadding:!1,label:"DESCRIPTION"}];function Fe(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:Me.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Fe.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function Le(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"Other Training"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Le.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function Tn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState(!1),[F,I]=f.useState(""),[C,v]=f.useState([]);f.useEffect(()=>{(async()=>{try{const s=(await W.get(`/reports/employee/training/?filter=others&employeeId=${a}`)).data.data.OTHERS;console.log("result:",s);const o=s.map((g,b)=>({slno:b+1,othertraining:g.training_name||"NA",date:g.training_date?B(new Date(g.training_date),"dd/MM/yyyy"):"N/A",trainername:g.trainers.map(P=>P.trainer_name).join(", "),refrno:g.training_id,training_image:g.training_image,description:g.about_the_training}));v(o)}catch(t){if(t.isAxiosError&&t.response){console.error(`HTTP error! status: ${t}`);const s=JSON.stringify(t.response.data);console.error("Response body:",s),alert(`Error: ${s}`)}console.error("Error fetching data:",t)}})()},[]);const L=d=>{I(d),O(!0)},A=()=>{O(!1),I("")},N=(d,t)=>{r(u===t&&n==="asc"?"desc":"asc"),i(t)},w=(d,t)=>{const s=l.indexOf(t);let o=[];s===-1?o=o.concat(l,t):s===0?o=o.concat(l.slice(1)):s===l.length-1?o=o.concat(l.slice(0,-1)):s>0&&(o=o.concat(l.slice(0,s),l.slice(s+1))),E(o)},$=(d,t)=>{_(t)},q=d=>{M(parseInt(d.target.value,10)),_(0)},R=d=>l.indexOf(d)!==-1,y=x>0?Math.max(0,(1+x)*p-C.length):0,k=S.useMemo(()=>_n(C,En(n,u)).slice(x*p,x*p+p),[n,u,x,C,p]),H=()=>{const d=new oe;d.autoTable({head:[["SL NO.","OTHER TRAINING","DATE","TRAINER NAME","REFERENCE NUMBER","DESCRIPTION"]],body:C.map(t=>[t.slno,t.othertraining,t.date,t.trainername,t.refrno,t.description])}),d.save("Other_Training_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(Le,{numSelected:l.length,onPdfDownload:H}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Fe,{order:n,orderBy:u,onRequestSort:N,rowCount:C.length}),e.jsxs(K,{children:[k.map((d,t)=>{const s=R(d.id),o=`enhanced-table-checkbox-${t}`;return e.jsxs(D,{hover:!0,onClick:g=>w(g,d.id),role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:o,scope:"row",padding:"none",children:d.slno}),e.jsx(h,{align:"right",children:d.othertraining}),e.jsx(h,{align:"right",children:d.date}),e.jsx(h,{align:"right",children:d.trainername}),e.jsx(h,{align:"right",children:d.refrno}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${d.training_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>L(`data:image/png;base64,${d.training_image}`),onError:g=>{g.target.onerror=null}})}),e.jsx(h,{align:"right",children:d.description})]},d.id)}),y>0&&e.jsx(D,{style:{height:53*y},children:e.jsx(h,{colSpan:Me.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:C.length,rowsPerPage:p,page:x,onPageChange:$,onRowsPerPageChange:q})]}),e.jsxs(se,{open:m,onClose:A,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:F,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:A,style:{padding:"10px"},children:"Close"})})]})]})}function be(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function Dn(c,a){return c==="desc"?(n,r)=>be(n,r,a):(n,r)=>-be(n,r,a)}function In(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const He=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"reference_number",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"accident_image",numeric:!0,disablePadding:!1,label:"IMAGE"},{id:"about",numeric:!0,disablePadding:!1,label:"About"}];function Be(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:He.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Be.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function Ue(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"Nearmiss Report"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Ue.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function vn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const o=(await W.get(`/reports/employee/accident/?filter=nearmiss&employeeId=${a}`)).data.data.map((g,b)=>({id:b+1,slno:b+1,reference_number:g.reference_number,date:g.date?B(new Date(g.date),"dd/MM/yyyy"):"N/A",accident_image:g.accident_image,about:g.about}));O(o)}catch(t){if(t.isAxiosError&&t.response){console.error(`HTTP error! status: ${t}`);const s=JSON.stringify(t.response.data);console.error("Response body:",s),alert(`Error: ${s}`)}console.error("Error fetching data:",t)}})()},[]);const L=(d,t)=>{r(u===t&&n==="asc"?"desc":"asc"),i(t)},A=d=>{v(d),I(!0)},N=()=>{I(!1),v("")},w=(d,t)=>{const s=l.indexOf(t);let o=[];s===-1?o=o.concat(l,t):s===0?o=o.concat(l.slice(1)):s===l.length-1?o=o.concat(l.slice(0,-1)):s>0&&(o=o.concat(l.slice(0,s),l.slice(s+1))),E(o)},$=(d,t)=>{_(t)},q=d=>{M(parseInt(d.target.value,10)),_(0)},R=d=>l.indexOf(d)!==-1,y=x>0?Math.max(0,(1+x)*p-m.length):0,k=S.useMemo(()=>In(m,Dn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),H=()=>{const d=new oe;d.autoTable({head:[["SL NO.","REFERENCE NUMBER","DATE","ABOUT"]],body:m.map(t=>[t.slno,t.reference_number,t.date,t.about])}),d.save("Nearmiss_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(Ue,{numSelected:l.length,onPdfDownload:H}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Be,{order:n,orderBy:u,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[k.map((d,t)=>{const s=R(d.id),o=`enhanced-table-checkbox-${t}`;return e.jsxs(D,{hover:!0,onClick:g=>w(g,d.id),role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:o,scope:"row",padding:"none",children:d.slno}),e.jsx(h,{align:"right",children:d.reference_number}),e.jsx(h,{align:"right",children:d.date}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${d.accident_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>A(`data:image/png;base64,${d.accident_image}`),onError:g=>{g.target.onerror=null}})}),e.jsx(h,{align:"right",children:d.about})]},d.id)}),y>0&&e.jsx(D,{style:{height:53*y},children:e.jsx(h,{colSpan:He.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:$,onRowsPerPageChange:q})]}),e.jsxs(se,{open:F,onClose:N,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:N,style:{padding:"10px"},children:"Close"})})]})]})}function je(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function Cn(c,a){return c==="desc"?(n,r)=>je(n,r,a):(n,r)=>-je(n,r,a)}function wn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const We=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"reference_number",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"accident_image",numeric:!0,disablePadding:!1,label:"Accident Image"},{id:"about",numeric:!0,disablePadding:!1,label:"About"}];function Ge(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:We.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Ge.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function ze(c){const{numSelected:a,onPdfDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"Violation Report"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}ze.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function kn(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const o=(await W.get(`/reports/employee/accident/?filter=violation&employeeId=${a}`)).data.data.map((g,b)=>({id:b+1,slno:b+1,reference_number:g.reference_number,date:g.date?B(new Date(g.date),"dd/MM/yyyy"):"N/A",accident_image:g.accident_image,about:g.about}));O(o)}catch(t){if(t.isAxiosError&&t.response){console.error(`HTTP error! status: ${t}`);const s=JSON.stringify(t.response.data);console.error("Response body:",s),alert(`Error: ${s}`)}console.error("Error fetching data:",t)}})()},[]);const L=(d,t)=>{r(u===t&&n==="asc"?"desc":"asc"),i(t)},A=d=>{v(d),I(!0)},N=()=>{I(!1),v("")},w=(d,t)=>{const s=l.indexOf(t);let o=[];s===-1?o=o.concat(l,t):s===0?o=o.concat(l.slice(1)):s===l.length-1?o=o.concat(l.slice(0,-1)):s>0&&(o=o.concat(l.slice(0,s),l.slice(s+1))),E(o)},$=(d,t)=>{_(t)},q=d=>{M(parseInt(d.target.value,10)),_(0)},R=d=>l.indexOf(d)!==-1,y=x>0?Math.max(0,(1+x)*p-m.length):0,k=S.useMemo(()=>wn(m,Cn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),H=()=>{const d=new oe;d.autoTable({head:[["SL NO.","REFERENCE NUMBER","DATE"]],body:m.map(t=>[t.slno,t.reference_number,t.date])}),d.save("Employee_Violation_Report.pdf")};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(ze,{numSelected:l.length,onPdfDownload:H}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Ge,{order:n,orderBy:u,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[k.map((d,t)=>{const s=R(d.id),o=`enhanced-table-checkbox-${t}`;return e.jsxs(D,{hover:!0,onClick:g=>w(g,d.id),role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:o,scope:"row",padding:"none",children:d.slno}),e.jsx(h,{align:"right",children:d.reference_number}),e.jsx(h,{align:"right",children:d.date}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${d.accident_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>A(`data:image/png;base64,${d.accident_image}`),onError:g=>{g.target.onerror=null}})}),e.jsx(h,{align:"right",children:d.about})]},d.id)}),y>0&&e.jsx(D,{style:{height:53*y},children:e.jsx(h,{colSpan:We.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:$,onRowsPerPageChange:q})]}),e.jsxs(se,{open:F,onClose:N,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:N,style:{padding:"10px"},children:"Close"})})]})]})}function Se(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function Nn(c,a){return c==="desc"?(n,r)=>Se(n,r,a):(n,r)=>-Se(n,r,a)}function On(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}const Je=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO."},{id:"reference_number",numeric:!0,disablePadding:!1,label:"REFERENCE NUMBER"},{id:"date",numeric:!0,disablePadding:!1,label:"DATE"},{id:"permit_status",numeric:!0,disablePadding:!1,label:"PermitStatus"},{id:"ppe_status",numeric:!0,disablePadding:!1,label:"PPE Status"},{id:"severity_id",numeric:!0,disablePadding:!1,label:"Severity Id"},{id:"severity",numeric:!0,disablePadding:!1,label:"Severity"},{id:"toolbox_training",numeric:!0,disablePadding:!1,label:"ToolBoxTalk"},{id:"toolbox_training_reference_number",numeric:!0,disablePadding:!1,label:"ToolBoxTalkRefNo."},{id:"accident_image",numeric:!0,disablePadding:!1,label:"Accident Image"},{id:"about",numeric:!0,disablePadding:!1,label:"About"}];function Xe(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:Je.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Xe.propTypes={order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired,onRequestSort:j.func.isRequired};function Ve(c){const{numSelected:a,onExcellDownload:n}=c;return e.jsxs(ce,{children:[e.jsx(J,{sx:{flex:"1 1 100%",textAlign:"center"},variant:"h6",id:"tableTitle",component:"div",children:"Accident Report"}),e.jsx(T,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx(e.Fragment,{children:e.jsx(te,{title:"Download Excell",children:e.jsx(X,{onClick:n,children:e.jsx(G,{})})})})})]})}Ve.propTypes={numSelected:j.number.isRequired,onPdfDownload:j.func.isRequired};function An(c){const a=c.employee_id,[n,r]=S.useState("asc"),[u,i]=S.useState("slno"),[l,E]=S.useState([]),[x,_]=S.useState(0),[p,M]=S.useState(5),[m,O]=f.useState([]),[F,I]=f.useState(!1),[C,v]=f.useState("");f.useEffect(()=>{(async()=>{try{const o=(await W.get(`/reports/employee/accident/?filter=accident&employeeId=${a}`)).data.data.map((g,b)=>({id:b+1,slno:b+1,reference_number:g.reference_number,date:g.date?B(new Date(g.date),"dd/MM/yyyy"):"N/A",permit_status:g.permit_status,ppe_status:g.ppe_status,severity:g.severity,severity_id:g.severity_id,accident_image:g.accident_image,toolbox_training:g.toolbox_training,toolbox_training_reference_number:g.toolbox_training_reference_number,about:g.about}));O(o)}catch(t){if(t.isAxiosError&&t.response){console.error(`HTTP error! status: ${t}`);const s=JSON.stringify(t.response.data);console.error("Response body:",s),alert(`Error: ${s}`)}console.error("Error fetching data:",t)}})()},[]);const L=(d,t)=>{r(u===t&&n==="asc"?"desc":"asc"),i(t)},A=d=>{v(d),I(!0)},N=()=>{I(!1),v("")},w=(d,t)=>{const s=l.indexOf(t);let o=[];s===-1?o=o.concat(l,t):s===0?o=o.concat(l.slice(1)):s===l.length-1?o=o.concat(l.slice(0,-1)):s>0&&(o=o.concat(l.slice(0,s),l.slice(s+1))),E(o)},$=(d,t)=>{_(t)},q=d=>{M(parseInt(d.target.value,10)),_(0)},R=d=>l.indexOf(d)!==-1,y=x>0?Math.max(0,(1+x)*p-m.length):0,k=S.useMemo(()=>On(m,Nn(n,u)).slice(x*p,x*p+p),[n,u,x,m,p]),H=async()=>{const d=new nn.Workbook,t=d.addWorksheet("Employee_Wise_Accident_Report"),s=["SL NO.","REFERENCE NUMBER","DATE","Permit Status","PPE Status","Severity_Id","Severity","About","ToolBoxTalk","ToolBoxRef"];t.addRow(s),m.forEach(P=>{t.addRow([P.slno,P.reference_number,P.date,P.permit_status,P.ppe_status,P.severity_id,P.severity,P.about,P.toolbox_training,P.toolbox_training_reference_number])}),t.columns.forEach(P=>{P.width=P.header?P.header.length+5:10});const o=await d.xlsx.writeBuffer(),g=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),b=document.createElement("a");b.href=URL.createObjectURL(g),b.download="Employee_Wise_Accident_Report.xlsx",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return e.jsxs(T,{sx:{width:"100%"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsx(Ve,{numSelected:l.length,onExcellDownload:H}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Xe,{order:n,orderBy:u,onRequestSort:L,rowCount:m.length}),e.jsxs(K,{children:[k.map((d,t)=>{const s=R(d.id),o=`enhanced-table-checkbox-${t}`;return e.jsxs(D,{hover:!0,onClick:g=>w(g,d.id),role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,sx:{cursor:"pointer"},children:[e.jsx(h,{component:"th",id:o,scope:"row",padding:"none",children:d.slno}),e.jsx(h,{align:"right",children:d.reference_number}),e.jsx(h,{align:"right",children:d.date}),e.jsx(h,{align:"right",children:d.permit_status}),e.jsx(h,{align:"right",children:d.ppe_status}),e.jsx(h,{align:"right",children:d.severity_id}),e.jsx(h,{align:"right",children:d.severity}),e.jsx(h,{align:"right",children:d.toolbox_training}),e.jsx(h,{align:"right",children:d.toolbox_training_reference_number}),e.jsx(h,{align:"right",children:e.jsx("img",{src:`data:image/png;base64,${d.accident_image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>A(`data:image/png;base64,${d.accident_image}`),onError:g=>{g.target.onerror=null}})}),e.jsx(h,{align:"right",children:d.about})]},d.id)}),y>0&&e.jsx(D,{style:{height:53*y},children:e.jsx(h,{colSpan:Je.length})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:p,page:x,onPageChange:$,onRowsPerPageChange:q})]}),e.jsxs(se,{open:F,onClose:N,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:C,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:N,style:{padding:"10px"},children:"Close"})})]})]})}const $n=[{id:"slno",numeric:!1,disablePadding:!0,label:"SL NO"},{id:"employee_id",numeric:!0,disablePadding:!1,label:"Employee Code"},{id:"employee_name",numeric:!0,disablePadding:!1,label:"Employee Name"},{id:"checkup_date",numeric:!0,disablePadding:!1,label:"Checkup Date"},{id:"image",numeric:!0,disablePadding:!1,label:"Image"}];function Ye(c){const{order:a,orderBy:n,onRequestSort:r}=c,u=i=>l=>{r(l,i)};return e.jsx(Q,{children:e.jsx(D,{children:$n.map(i=>e.jsx(h,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:n===i.id?a:!1,children:e.jsxs(ee,{active:n===i.id,direction:n===i.id?a:"asc",onClick:u(i.id),children:[i.label,n===i.id?e.jsx(T,{component:"span",sx:ne,children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))})})}Ye.propTypes={onRequestSort:j.func.isRequired,order:j.oneOf(["asc","desc"]).isRequired,orderBy:j.string.isRequired};function Pe(c,a,n){return a[n]<c[n]?-1:a[n]>c[n]?1:0}function qn(c,a){return c==="desc"?(n,r)=>Pe(n,r,a):(n,r)=>-Pe(n,r,a)}function Mn(c,a){const n=c.map((r,u)=>[r,u]);return n.sort((r,u)=>{const i=a(r[0],u[0]);return i!==0?i:r[1]-u[1]}),n.map(r=>r[0])}function Fn(c){const a=c.employee_id,[n,r]=f.useState("asc"),[u,i]=f.useState("employee_id"),[l,E]=f.useState(0),[x,_]=f.useState(5),[p,M]=f.useState([]),[m,O]=f.useState(!1),[F,I]=f.useState("");f.useEffect(()=>{(async()=>{try{const H=(await W.get(`/reports/employee/medicalcheckup/?employeeId=${a}`)).data.data.map((d,t)=>({id:t+1,slno:t+1,employee_id:d.employee_id,employee_name:d.employee_name,checkup_date:d.checkup_date?B(new Date(d.checkup_date),"dd/MM/yyyy"):"N/A",image:d.image}));M(H)}catch(y){console.error("Error fetching data:",y),alert("Error fetching data")}})()},[a]);const C=(R,y)=>{r(u===y&&n==="asc"?"desc":"asc"),i(y)},v=(R,y)=>{E(y)},L=R=>{_(parseInt(R.target.value,10)),E(0)},A=()=>{const R=new oe;R.autoTable({head:[["SL NO","Employee Code","Employee Name","Checkup Date","Image"]],body:p.map(y=>[y.slno,y.employee_id,y.employee_name,y.checkup_date,y.image])}),R.save("medical-checkup-reports.pdf")},N=R=>{I(R),O(!0)},w=()=>{O(!1),I("")},$=l>0?Math.max(0,(1+l)*x-p.length):0,q=Mn(p,qn(n,u)).slice(l*x,l*x+x);return e.jsxs(T,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[e.jsxs(z,{sx:{width:"100%",mb:2,padding:5},children:[e.jsxs(T,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(J,{variant:"h6",id:"tableTitle",component:"div",children:"Medical Checkup Report"}),e.jsx(te,{title:"Download PDF",children:e.jsx(X,{onClick:A,children:e.jsx(G,{})})})]}),e.jsx(V,{children:e.jsxs(Y,{sx:{minWidth:730},"aria-labelledby":"tableTitle",children:[e.jsx(Ye,{order:n,orderBy:u,onRequestSort:C}),e.jsxs(K,{children:[q.map(R=>e.jsxs(D,{hover:!0,sx:{cursor:"pointer"},children:[e.jsx(h,{children:R.slno}),e.jsx(h,{align:"right",children:R.employee_id}),e.jsx(h,{align:"right",children:R.employee_name}),e.jsx(h,{align:"right",children:R.checkup_date}),e.jsx(h,{align:"center",children:e.jsx("img",{src:`data:image/png;base64,${R.image}`,alt:"Image Not Found ",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"5px",cursor:"pointer"},onClick:()=>N(`data:image/png;base64,${R.image}`),onError:y=>{y.target.onerror=null}})})]},R.id)),$>0&&e.jsx(D,{style:{height:53*$},children:e.jsx(h,{colSpan:5})})]})]})}),e.jsx(Z,{rowsPerPageOptions:[5,10,25],component:"div",count:p.length,rowsPerPage:x,page:l,onPageChange:v,onRowsPerPageChange:L})]}),e.jsxs(se,{open:m,onClose:w,children:[e.jsx(ie,{children:"Image Preview"}),e.jsx(ae,{children:e.jsx("img",{src:F,alt:"Preview",style:{width:"400px",height:"300px",objectFit:"cover"}})}),e.jsx(re,{children:e.jsx("button",{onClick:w,style:{padding:"10px"},children:"Close"})})]})]})}function st(){const[c]=Ke(),a=c.get("employeeid"),n=Qe(),r=()=>{n(-1)};return e.jsxs(e.Fragment,{children:[e.jsxs(le,{className:"align-items-center",children:[e.jsx(de,{xs:"auto",children:e.jsx(Ze,{color:"link",onClick:r,children:e.jsx(en,{icon:tn,size:"xl"})})}),e.jsx(de,{className:"text-center",children:e.jsx("h2",{style:{color:"whitesmoke"},children:"ITEM-DETAILS"})}),e.jsxs(de,{xs:"auto",className:"text-end",children:[e.jsxs("h5",{style:{color:"white",fontWeight:"bold",margin:0,fontSize:"1.25rem"},children:["Employee_Id ",a]})," "]})]}),e.jsx(xn,{employee_id:a}),e.jsx(ln,{employee_id:a}),e.jsx(rn,{employee_id:a}),e.jsx("hr",{}),e.jsx(le,{children:e.jsx(de,{className:"text-center",children:e.jsx("h2",{style:{color:"whitesmoke"},children:"Safety Training Details"})})}),e.jsx(fn,{employee_id:a}),e.jsx(Sn,{employee_id:a}),e.jsx(Rn,{employee_id:a}),e.jsx(Tn,{employee_id:a}),e.jsx("hr",{}),e.jsx(le,{children:e.jsx(de,{className:"text-center",children:e.jsx("h2",{style:{color:"whitesmoke"},children:"Nearmiss Report"})})}),e.jsx(vn,{employee_id:a}),e.jsx("hr",{}),e.jsx(le,{children:e.jsx(de,{className:"text-center",children:e.jsx("h2",{style:{color:"whitesmoke"},children:"Accident Report"})})}),e.jsx(An,{employee_id:a}),e.jsx("hr",{}),e.jsx(le,{children:e.jsx(de,{className:"text-center",children:e.jsx("h2",{style:{color:"whitesmoke"},children:"Violation Report"})})}),e.jsx(kn,{employee_id:a}),e.jsx(le,{children:e.jsx(de,{className:"text-center",children:e.jsx("h2",{style:{color:"whitesmoke"},children:"Medical Checkup Report"})})}),e.jsx(Fn,{employee_id:a})]})}export{st as default};
